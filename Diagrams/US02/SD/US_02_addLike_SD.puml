@startuml


actor User

User -> UI ++ #application: I want to add like to Post
UI -> PostController --++ #application :  POST /posts/{postID}/like
PostController -> PostController #application: validate(postID)
PostController -> PostController #application: getUserFromSecurityContext()
PostController -> PostService --++ #application: addLikePost(postID, userID)
PostService -> Post --++ #application: registerLike(postID, userID)
Post -> Post: verifyLike()
Post -> Post #application: registerLike(postID, userID)
Post -> PostService --++ #application: Optional<Like>
PostService -> PostService: getPost()
PostService -> PostRepository --++ #application: updatePost(Post)
PostRepository -> PostRepository #application: updatePost(Post)
PostRepository --> PostService --++ #application: Optional<Post>
PostService -> PostMapper --++ #application: toDto(Post)
PostMapper --> PostService --++ #application: transform Post into PostDto
PostService --> PostController --++ #application: Optional<PostDto>
PostController --> UI --++ #application: ResponseEntity 200 code!
UI --> User -- #application: Post updated with Like!


@enduml